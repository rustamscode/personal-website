<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rustam | Software Engineer</title>
    <meta name="description" content="Portfolio of Rustam, a Java/Kotlin Backend Developer" />
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              background: '#0a0a0a',
              surface: '#171717',
              primary: '#3b82f6', // Blue-500
            }
          }
        }
      }
    </script>
    
    <!-- Custom Styles -->
    <style>
      /* Custom scrollbar for a slicker look */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background-color: #f8fafc;
      }
      .dark ::-webkit-scrollbar-track {
        background-color: #0a0a0a;
      }
      ::-webkit-scrollbar-thumb {
        background-color: #cbd5e1;
        border-radius: 4px;
      }
      .dark ::-webkit-scrollbar-thumb {
        background-color: #262626;
      }
      ::-webkit-scrollbar-thumb:hover {
        background-color: #94a3b8;
      }
      .dark ::-webkit-scrollbar-thumb:hover {
        background-color: #404040;
      }
    </style>

    <!-- Import Map -->
    <!-- CRITICAL FIX: Added ?external=react,react-dom to libraries to prevent duplicate React instances -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "framer-motion": "https://esm.sh/framer-motion@10.16.4?external=react,react-dom",
    "lucide-react": "https://esm.sh/lucide-react@0.292.0?external=react,react-dom",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
    
    <!-- Babel for in-browser transpilation of JSX/TSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-slate-50 dark:bg-[#0a0a0a] text-slate-900 dark:text-[#e5e5e5] transition-colors duration-300">
    <div id="root"></div>
    
    <!-- Main Application Logic -->
    <script type="text/babel" data-type="module" data-presets="typescript,react">
      import React, { useState, useEffect, useRef } from 'react';
      import { createRoot } from 'react-dom/client';
      import { motion, AnimatePresence, useMotionValue, useSpring, useTransform } from 'framer-motion';
      import { 
        Github, Linkedin, Send, Youtube, BookOpen, Mail, ArrowUpRight, ArrowRight, 
        Copy, Check, Menu, X, ChevronDown, Zap, ShieldCheck, Globe, Database, 
        Terminal, Layers, ExternalLink, Calendar, Code2, Building2, Briefcase, 
        Server, Users, Sparkles, Trophy, Moon, Sun 
      } from 'lucide-react';

      /** 
       * CONSTANTS & DATA 
       */
      const SOCIAL_LINKS = [
        { platform: "LinkedIn", username: "rustamscodes", url: "https://linkedin.com/in/rustamscodes", iconName: "Linkedin" },
        { platform: "GitHub", username: "rustamscode", url: "https://github.com/rustamscode", iconName: "Github" },
        { platform: "Telegram", username: "@rustamscode", url: "https://t.me/rustamscode", iconName: "Send" },
        { platform: "YouTube", username: "rustamscode", url: "https://youtube.com/@rustamscode", iconName: "Youtube" },
        { platform: "Medium", username: "rustamscode", url: "https://medium.com/@rustamscode", iconName: "BookOpen" },
        { platform: "Habr", username: "rustamscode", url: "https://habr.com/ru/users/rustamscode", iconName: "BookOpen" },
        { platform: "Email", username: "rustamscode@gmail.com", url: "mailto:rustamscode@gmail.com", iconName: "Mail" }
      ];

      const DATA_EN = {
        header: {
            role: "Senior Java & Kotlin Engineer",
            bio: "I build scalable, high-performance backend systems. Currently creating efficient solutions at VK.",
            cta: "Get In Touch"
        },
        about: {
            bio: [
                "Back in 2018, I started my journey in the corporate world at Citibank, diving deep into the rigorous standards of fintech. Since then, I've navigated through a Tier-1 Bank (NDA) and now VK, constantly refining my craft in the JVM ecosystem.",
                "My main focus these days is engineering accessible, resilient, and performant backend services. I enjoy the challenge of high-load systems—optimizing database queries, tuning garbage collectors, and ensuring microservices talk to each other politely.",
                "When I'm not writing Java or Kotlin, I'm usually sharing my knowledge on YouTube or writing articles on Medium to help others navigate the complex world of software engineering."
            ],
            highlights: [
                { title: "Experience", value: "6+ Years", desc: "Building complex enterprise systems in Fintech & Social.", icon: "Briefcase" },
                { title: "Impact", value: "50k+ Reads", desc: "On my technical articles about JVM & Spring Boot.", icon: "Users" },
                { title: "Focus", value: "High Load", desc: "Distributed systems, Microservices & Performance.", icon: "Server" },
                { title: "Location", value: "Global", desc: "Open to remote opportunities and relocation.", icon: "Globe" }
            ]
        },
        experience: [
            {
                company: "VK",
                role: "Java Backend Developer",
                duration: "2022 — Present",
                description: "Architecting high-load social interactions and messaging services. Optimized internal microservices reducing latency by 40%. Migrated legacy monolithic modules to Kotlin-based microservices.",
                skills: ["Java", "Kotlin", "Spring Boot", "Kafka", "PostgreSQL"],
                logo: "https://placehold.co/200x200/0077FF/ffffff?text=VK"
            },
            {
                company: "Tier-1 Bank (NDA)",
                role: "Java Backend Developer",
                duration: "2020 — 2022",
                description: "Developed core banking transaction processing systems. Implemented secure API gateways for mobile banking integration. Championed unit testing coverage increase from 40% to 85%.",
                skills: ["Java", "Spring Security", "Oracle DB", "Docker", "Jenkins"],
                logo: "https://placehold.co/200x200/10b981/ffffff?text=NDA"
            },
            {
                company: "Citibank",
                role: "Java Backend Developer",
                duration: "2018 — 2020",
                description: "Maintained and enhanced global wealth management platforms. Collaborated with cross-functional teams to deliver regulatory compliance features.",
                skills: ["Java EE", "Hibernate", "SQL", "Rest API"],
                logo: "https://placehold.co/200x200/003b70/ffffff?text=Citi"
            }
        ],
        projects: [
            {
                title: "High-Throughput Message Broker",
                description: "Designed a custom wrapper around Kafka to handle 50k+ events per second with guaranteed delivery and ordering for a social platform. Implemented dead-letter queues and automatic retry policies.",
                tech: ["Java", "Kafka", "Spring Boot", "Protobuf"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1744&auto=format&fit=crop"
            },
            {
                title: "Distributed Rate Limiter",
                description: "Built a distributed rate limiting library using Redis and Lua scripts to protect internal microservices from DDOS attacks. Integrated seamlessly with Spring Security filter chains.",
                tech: ["Kotlin", "Redis", "Spring AOP", "Lua"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1740&auto=format&fit=crop"
            },
            {
                title: "Secure Banking API Gateway",
                description: "Developed a secure API Gateway for mobile banking clients, handling OAuth2 authentication and request validation. Reduced latency by 15% using non-blocking I/O with Netty.",
                tech: ["Java", "Spring Cloud Gateway", "Netty", "OAuth2"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=1740&auto=format&fit=crop"
            }
        ],
        achievements: [
            {
                title: "VK Internal Hackathon Winner",
                organization: "VK Tech",
                year: "2023",
                description: "Led a team of 4 to build a real-time sentiment analysis microservice for chat streams. Secured 1st place out of 30+ teams."
            },
            {
                title: "Oracle Certified Professional",
                organization: "Oracle University",
                year: "2022",
                description: "Java SE 11 Developer Certification. Validated advanced proficiency in modularity, functional programming, and concurrency."
            },
            {
                title: "Top Technical Writer",
                organization: "Medium / Habr",
                year: "2021",
                description: "Authored a series of articles on 'Spring Boot Performance Tuning' which garnered over 50k views."
            }
        ],
        articles: [
            {
                title: "Optimizing PostgreSQL for High Load",
                platform: "Habr",
                date: "Jan 2024",
                description: "Advanced indexing strategies, partitioning, and query tuning techniques that reduced query time by 60%.",
                link: "https://habr.com/ru/users/rustamscode",
            },
            {
                title: "Scaling Spring Boot Microservices",
                platform: "Medium",
                date: "Dec 2023",
                description: "Strategies for optimizing JVM memory usage and garbage collection in high-throughput containerized environments.",
                link: "https://medium.com/@rustamscode",
            },
            {
                title: "From Java 8 to Kotlin: A Migration Story",
                platform: "Habr",
                date: "Sep 2023",
                description: "Lessons learned migrating a legacy payment gateway. Handling null-safety, coroutines adoption, and team upskilling.",
                link: "https://habr.com/ru/users/rustamscode",
            },
            {
                title: "Event-Driven Architecture Patterns",
                platform: "Dev.to",
                date: "Jul 2023",
                description: "Deep dive into idempotency, dead letter queues, and event ordering guarantees using Kafka and Spring Cloud Stream.",
                link: "https://dev.to/rustamscode",
            }
        ],
        ui: {
            about: "About",
            experience: "Experience",
            projects: "Projects",
            achievements: "Achievements",
            writing: "Writing",
            contact: "Get In Touch",
            techStack: "Tech Stack",
            viewResume: "View Full Resumé",
            technologies: "Technologies",
            readArticle: "Read Article",
            sendEmail: "Send me an email",
            contactDesc: "",
            footer: ""
        }
      };

      const DATA_RU = {
        header: {
            role: "Senior Java & Kotlin Разработчик",
            bio: "Разрабатываю масштабируемые и высокопроизводительные бэкенд-системы. В настоящее время создаю эффективные решения в VK.",
            cta: "Связаться"
        },
        about: {
            bio: [
                "В 2018 году я начал свой путь в корпоративном мире в Citibank, погрузившись в строгие стандарты финтеха. С тех пор я работал в крупном банке (NDA), а сейчас в VK, постоянно совершенствуя свои навыки в экосистеме JVM.",
                "Сейчас я сосредоточен на разработке доступных, отказоустойчивых и производительных бэкенд-сервисов. Мне нравятся задачи high-load систем — оптимизация запросов к БД, настройка GC и обеспечение корректного взаимодействия микросервисов.",
                "Когда я не пишу код на Java или Kotlin, я обычно делюсь знаниями на YouTube или пишу статьи на Medium, помогая другим ориентироваться в сложном мире разработки ПО."
            ],
            highlights: [
                { title: "Опыт", value: "6+ Лет", desc: "Разработки сложных корпоративных систем в Финтехе и Соцсетях.", icon: "Briefcase" },
                { title: "Влияние", value: "50k+ Читателей", desc: "Моих технических статей про JVM и Spring Boot.", icon: "Users" },
                { title: "Фокус", value: "High Load", desc: "Распределенные системы, Микросервисы и Производительность.", icon: "Server" },
                { title: "Локация", value: "Мир", desc: "Открыт к удаленной работе и релокации.", icon: "Globe" }
            ]
        },
        experience: [
            {
                company: "VK",
                role: "Java Backend Developer",
                duration: "2022 — Наст. время",
                description: "Проектирование высоконагруженных сервисов для соцсетей. Оптимизировал внутренние микросервисы, снизив задержки на 40%. Мигрировал монолитные модули на микросервисы Kotlin.",
                skills: ["Java", "Kotlin", "Spring Boot", "Kafka", "PostgreSQL"],
                logo: "https://placehold.co/200x200/0077FF/ffffff?text=VK"
            },
            {
                company: "Банк Топ-1 (NDA)",
                role: "Java Backend Developer",
                duration: "2020 — 2022",
                description: "Разработка систем процессинга банковских транзакций. Внедрил безопасные API-шлюзы для мобильного банкинга. Увеличил покрытие юнит-тестами с 40% до 85%.",
                skills: ["Java", "Spring Security", "Oracle DB", "Docker", "Jenkins"],
                logo: "https://placehold.co/200x200/10b981/ffffff?text=NDA"
            },
            {
                company: "Citibank",
                role: "Java Backend Developer",
                duration: "2018 — 2020",
                description: "Поддержка и развитие глобальных платформ управления капиталом. Сотрудничал с кросс-функциональными командами для реализации требований регуляторов.",
                skills: ["Java EE", "Hibernate", "SQL", "Rest API"],
                logo: "https://placehold.co/200x200/003b70/ffffff?text=Citi"
            }
        ],
        projects: [
            {
                title: "High-Throughput Message Broker",
                description: "Разработал кастомную обертку над Kafka для обработки 50k+ событий в секунду с гарантией доставки для социальной платформы. Реализовал DLQ и политики повторных попыток.",
                tech: ["Java", "Kafka", "Spring Boot", "Protobuf"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1744&auto=format&fit=crop"
            },
            {
                title: "Distributed Rate Limiter",
                description: "Создал библиотеку распределенного ограничения скорости с использованием Redis и Lua для защиты микросервисов от DDOS. Интегрировано в цепочки фильтров Spring Security.",
                tech: ["Kotlin", "Redis", "Spring AOP", "Lua"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1740&auto=format&fit=crop"
            },
            {
                title: "Secure Banking API Gateway",
                description: "Разработал безопасный API Gateway для мобильного банкинга с OAuth2 аутентификацией. Снизил задержку на 15% за счет использования неблокирующего I/O на Netty.",
                tech: ["Java", "Spring Cloud Gateway", "Netty", "OAuth2"],
                link: "https://github.com/rustamscode",
                imageUrl: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=1740&auto=format&fit=crop"
            }
        ],
        achievements: [
            {
                title: "Победитель хакатона VK",
                organization: "VK Tech",
                year: "2023",
                description: "Возглавил команду из 4 человек для создания микросервиса анализа настроений чатов в реальном времени. 1-е место среди 30+ команд."
            },
            {
                title: "Oracle Certified Professional",
                organization: "Oracle University",
                year: "2022",
                description: "Сертификация Java SE 11. Подтверждение продвинутых навыков модульности, функционального программирования и многопоточности."
            },
            {
                title: "Топ Технический Автор",
                organization: "Medium / Habr",
                year: "2021",
                description: "Автор серии статей по 'Spring Boot Performance Tuning', собравших более 50k просмотров."
            }
        ],
        articles: [
            {
                title: "Оптимизация PostgreSQL под высокие нагрузки",
                platform: "Habr",
                date: "Янв 2024",
                description: "Продвинутые стратегии индексирования, партиционирование и тюнинг запросов, сократившие время выполнения на 60%.",
                link: "https://habr.com/ru/users/rustamscode",
            },
            {
                title: "Масштабирование Spring Boot микросервисов",
                platform: "Medium",
                date: "Дек 2023",
                description: "Стратегии оптимизации памяти JVM и сборки мусора в высоконагруженных контейнеризированных средах.",
                link: "https://medium.com/@rustamscode",
            },
            {
                title: "От Java 8 к Kotlin: История миграции",
                platform: "Habr",
                date: "Сен 2023",
                description: "Уроки, извлеченные при миграции легаси платежного шлюза. Null-safety, внедрение корутин и обучение команды.",
                link: "https://habr.com/ru/users/rustamscode",
            },
            {
                title: "Паттерны событийно-ориентированной архитектуры",
                platform: "Dev.to",
                date: "Июл 2023",
                description: "Глубокое погружение в идемпотентность, DLQ и гарантии порядка событий с использованием Kafka и Spring Cloud Stream.",
                link: "https://dev.to/rustamscode",
            }
        ],
        ui: {
            about: "Обо мне",
            experience: "Опыт",
            projects: "Проекты",
            achievements: "Достижения",
            writing: "Статьи",
            contact: "Связаться",
            techStack: "Стек Технологий",
            viewResume: "Посмотреть резюме",
            technologies: "Технологии",
            readArticle: "Читать статью",
            sendEmail: "Написать на почту",
            contactDesc: "",
            footer: ""
        }
      };

      const CONTENT = {
        en: DATA_EN,
        ru: DATA_RU
      };

      /** 
       * COMPONENTS 
       */

      // Icon Helper
      const IconRenderer = ({ name, className }) => {
        switch (name) {
          case 'Github': return <Github className={className} />;
          case 'Linkedin': return <Linkedin className={className} />;
          case 'Send': return <Send className={className} />;
          case 'Youtube': return <Youtube className={className} />;
          case 'BookOpen': return <BookOpen className={className} />;
          case 'Mail': return <Mail className={className} />;
          default: return <div className={className} />;
        }
      };

      // Spotlight Effect
      const SpotlightEffect = () => {
        const [position, setPosition] = useState({ x: 0, y: 0 });
        const [opacity, setOpacity] = useState(0);

        useEffect(() => {
          const handleMouseMove = (e) => {
            setPosition({ x: e.clientX, y: e.clientY });
            setOpacity(1);
          };

          const handleMouseLeave = () => {
            setOpacity(0);
          };

          window.addEventListener('mousemove', handleMouseMove);
          document.addEventListener('mouseleave', handleMouseLeave);

          return () => {
            window.removeEventListener('mousemove', handleMouseMove);
            document.removeEventListener('mouseleave', handleMouseLeave);
          };
        }, []);

        return (
          <div
            className="pointer-events-none fixed inset-0 z-30 transition-opacity duration-300"
            style={{
              opacity,
              background: `radial-gradient(600px circle at ${position.x}px ${position.y}px, rgba(59, 130, 246, 0.1), transparent 40%)`,
            }}
          />
        );
      };

      // Network Background
      const NetworkBackground = () => {
        const canvasRef = useRef(null);

        useEffect(() => {
          const canvas = canvasRef.current;
          if (!canvas) return;

          const ctx = canvas.getContext('2d');
          if (!ctx) return;

          let animationFrameId;
          let particles = [];
          
          const mouse = { x: -1000, y: -1000, radius: 200 };

          const resize = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
          };

          class Particle {
            // Removed Type Definitions for Babel Standalone Compatibility
            constructor() {
              this.x = Math.random() * canvas.width;
              this.y = Math.random() * canvas.height;
              this.vx = (Math.random() - 0.5) * 0.3;
              this.vy = (Math.random() - 0.5) * 0.3;
              this.size = Math.random() * 2 + 1;
              this.baseX = this.x;
              this.baseY = this.y;
            }

            update() {
              this.x += this.vx;
              this.y += this.vy;

              if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
              if (this.y < 0 || this.y > canvas.height) this.vy *= -1;

              const dx = mouse.x - this.x;
              const dy = mouse.y - this.y;
              const distance = Math.sqrt(dx * dx + dy * dy);

              if (distance < mouse.radius) {
                const angle = Math.atan2(dy, dx);
                const force = (mouse.radius - distance) / mouse.radius;
                const pushX = Math.cos(angle) * force * 3; 
                const pushY = Math.sin(angle) * force * 3;
                this.x -= pushX;
                this.y -= pushY;
              }
            }

            draw() {
              if (!ctx) return;
              ctx.beginPath();
              ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
              const isDark = document.documentElement.classList.contains('dark');
              ctx.fillStyle = isDark ? 'rgba(96, 165, 250, 0.4)' : 'rgba(37, 99, 235, 0.3)';
              ctx.fill();
            }
          }

          const initParticles = () => {
            particles = [];
            const numberOfParticles = Math.floor((canvas.width * canvas.height) / 18000);
            for (let i = 0; i < numberOfParticles; i++) {
              particles.push(new Particle());
            }
          };

          const animate = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const isDark = document.documentElement.classList.contains('dark');

            for (let i = 0; i < particles.length; i++) {
              particles[i].update();
              particles[i].draw();

              for (let j = i; j < particles.length; j++) {
                const dx = particles[i].x - particles[j].x;
                const dy = particles[i].y - particles[j].y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 120) {
                  ctx.beginPath();
                  const alpha = 0.15 - distance/1000;
                  ctx.strokeStyle = isDark 
                      ? `rgba(59, 130, 246, ${alpha})` 
                      : `rgba(37, 99, 235, ${alpha})`;
                  ctx.lineWidth = 0.8;
                  ctx.moveTo(particles[i].x, particles[i].y);
                  ctx.lineTo(particles[j].x, particles[j].y);
                  ctx.stroke();
                }
              }
            }
            animationFrameId = requestAnimationFrame(animate);
          };

          const handleMouseMove = (e) => {
              mouse.x = e.clientX;
              mouse.y = e.clientY;
          };

          const handleMouseLeave = () => {
              mouse.x = -1000;
              mouse.y = -1000;
          };
          
          window.addEventListener('resize', resize);
          window.addEventListener('mousemove', handleMouseMove);
          document.addEventListener('mouseleave', handleMouseLeave);
          
          resize();
          animate();

          return () => {
            window.removeEventListener('resize', resize);
            window.removeEventListener('mousemove', handleMouseMove);
            document.removeEventListener('mouseleave', handleMouseLeave);
            cancelAnimationFrame(animationFrameId);
          };
        }, []);

        return (
          <canvas 
              ref={canvasRef} 
              className="fixed inset-0 z-0 pointer-events-none opacity-40"
          />
        );
      };

      // Section Component
      const Section = ({ id, title, children, className = "", delay = 0 }) => {
        return (
          <section id={id} className={`mb-24 scroll-mt-24 ${className}`}>
            {title && (
              <motion.h2 
                initial={{ opacity: 0, x: -20 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ duration: 0.5, delay }}
                className="text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100 mb-8 relative inline-block"
              >
                {title}
                <span className="absolute -bottom-2 left-0 w-1/3 h-1 bg-blue-600 dark:bg-blue-500 rounded-full"></span>
              </motion.h2>
            )}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ duration: 0.5, delay: delay + 0.1 }}
            >
              {children}
            </motion.div>
          </section>
        );
      };

      // Language Switcher
      const LanguageSwitcher = ({ language, setLanguage }) => {
        return (
          <div className="flex items-center gap-2">
            <div 
              className="relative flex h-9 w-[84px] items-center rounded-full bg-slate-200 dark:bg-slate-800/80 p-1 shadow-lg backdrop-blur-sm border border-slate-300 dark:border-slate-700/50 cursor-pointer"
              onClick={() => setLanguage(language === 'en' ? 'ru' : 'en')}
            >
              <motion.div
                className="absolute h-7 w-9 rounded-full bg-blue-600 shadow-sm"
                layout
                transition={{ type: "spring", stiffness: 500, damping: 30 }}
                initial={false}
                animate={{
                  x: language === 'en' ? 0 : 40
                }}
              />
              <div className="absolute inset-0 flex justify-between items-center px-1 pointer-events-none">
                  <span 
                      className={`w-9 text-center text-[11px] font-bold tracking-wider transition-colors duration-200 ${language === 'en' ? 'text-white' : 'text-slate-500'}`}
                  >
                      EN
                  </span>
                  <span 
                      className={`w-9 text-center text-[11px] font-bold tracking-wider transition-colors duration-200 ${language === 'ru' ? 'text-white' : 'text-slate-500'}`}
                  >
                      RU
                  </span>
              </div>
            </div>
          </div>
        );
      };

      // Theme Toggle
      const ThemeToggle = () => {
        const [theme, setTheme] = useState(() => {
            return localStorage.getItem('theme') || 'dark';
        });

        useEffect(() => {
          const root = window.document.documentElement;
          if (theme === 'dark') {
            root.classList.add('dark');
          } else {
            root.classList.remove('dark');
          }
          localStorage.setItem('theme', theme);
        }, [theme]);

        const toggleTheme = () => {
          setTheme(theme === 'dark' ? 'light' : 'dark');
        };

        return (
          <button
            onClick={toggleTheme}
            className="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-white/5 transition-colors text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400"
            aria-label="Toggle Theme"
          >
            <motion.div
              key={theme}
              initial={{ scale: 0.5, opacity: 0, rotate: -90 }}
              animate={{ scale: 1, opacity: 1, rotate: 0 }}
              transition={{ duration: 0.2 }}
            >
              {theme === 'dark' ? <Sun className="w-5 h-5" /> : <Moon className="w-5 h-5" />}
            </motion.div>
          </button>
        );
      };

      // Header
      const Header = ({ language, setLanguage, labels }) => {
        const [isMenuOpen, setIsMenuOpen] = useState(false);
        const [isDropdownOpen, setIsDropdownOpen] = useState(false);
        const [activeSection, setActiveSection] = useState('about');
        const dropdownRef = useRef(null);
        const HEADER_SOCIALS = ['Email', 'Telegram', 'LinkedIn'];

        const navItems = [
            { name: labels.about, href: '#about' },
            { name: labels.experience, href: '#experience' },
            { name: labels.techStack, href: '#skills' },
            { name: labels.projects, href: '#projects' },
            { name: labels.writing, href: '#writing' },
            { name: labels.contact, href: '#contact' },
        ];

        useEffect(() => {
            const handleScroll = () => {
                const sections = navItems.map(item => item.href.substring(1));
                let current = '';
                for (const section of sections) {
                    const element = document.getElementById(section);
                    if (element) {
                        const rect = element.getBoundingClientRect();
                        if ((rect.top <= 250 && rect.bottom >= 250)) {
                            current = section;
                        }
                    }
                }
                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 50) {
                    current = 'contact';
                }
                if (current) setActiveSection(current);
            };
            window.addEventListener('scroll', handleScroll);
            handleScroll();
            return () => window.removeEventListener('scroll', handleScroll);
        }, [navItems]);

        useEffect(() => {
            const handleClickOutside = (event) => {
                if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                    setIsDropdownOpen(false);
                }
            };
            if (isDropdownOpen) document.addEventListener('mousedown', handleClickOutside);
            return () => document.removeEventListener('mousedown', handleClickOutside);
        }, [isDropdownOpen]);

        const handleScrollTo = (e, href) => {
            e.preventDefault();
            const element = document.querySelector(href);
            if (element) {
                const headerOffset = 100;
                const elementPosition = element.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                setIsMenuOpen(false);
                setIsDropdownOpen(false);
            }
        };

        const currentSectionName = navItems.find(n => n.href.substring(1) === activeSection)?.name || labels.about;

        return (
            <header className="fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-background/80 backdrop-blur-lg border-b border-slate-200 dark:border-white/5 h-16 transition-all duration-300">
                <div className="max-w-6xl mx-auto px-6 h-full flex items-center justify-between">
                   <div className="flex items-center gap-4" ref={dropdownRef}>
                       <a href="#" onClick={(e) => { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' }); }} className="text-lg font-bold text-slate-900 dark:text-slate-100 tracking-tight hover:text-blue-600 dark:hover:text-blue-400 transition-colors whitespace-nowrap">Rustam Rustamov</a>
                       <div className="hidden md:flex items-center gap-2 relative">
                           <span className="text-slate-300 dark:text-slate-700 font-light text-xl">/</span>
                           <button onClick={() => setIsDropdownOpen(!isDropdownOpen)} className="group relative flex items-center gap-2 px-3 py-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-white/10 transition-all">
                               <div className="overflow-hidden h-5 flex items-center">
                                   <AnimatePresence mode='wait'>
                                       <motion.span key={activeSection} initial={{ y: 10, opacity: 0 }} animate={{ y: 0, opacity: 1 }} exit={{ y: -10, opacity: 0 }} transition={{ duration: 0.2 }} className="font-medium text-slate-600 dark:text-slate-300 text-sm truncate group-hover:text-slate-900 dark:group-hover:text-slate-100 transition-colors">{currentSectionName}</motion.span>
                                   </AnimatePresence>
                               </div>
                               <ChevronDown className="w-3 h-3 text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors opacity-50 group-hover:opacity-100" />
                               <AnimatePresence>
                                   {isDropdownOpen && (
                                       <motion.div initial={{ opacity: 0, y: 8, scale: 0.95 }} animate={{ opacity: 1, y: 0, scale: 1 }} exit={{ opacity: 0, y: 8, scale: 0.95 }} transition={{ duration: 0.15, ease: "easeOut" }} className="absolute top-full left-0 mt-2 w-56 bg-white dark:bg-[#0F0F0F] rounded-xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden p-1.5 z-50 cursor-default" onClick={(e) => e.stopPropagation()}>
                                           {navItems.map((item) => (
                                               <button key={item.href} onClick={(e) => handleScrollTo(e, item.href)} className={`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-between group ${activeSection === item.href.substring(1) ? 'bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400' : 'text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-slate-900 dark:hover:text-slate-200'}`}>
                                                   <span className="flex-1">{item.name}</span>
                                                   {activeSection === item.href.substring(1) && (<motion.div layoutId="activeDot" className="w-1.5 h-1.5 rounded-full bg-blue-500" />)}
                                               </button>
                                           ))}
                                       </motion.div>
                                   )}
                               </AnimatePresence>
                           </button>
                       </div>
                   </div>
                   <div className="hidden md:flex items-center justify-end gap-6">
                       <div className="flex items-center gap-1 pr-6 border-r border-slate-200 dark:border-white/10">
                           {SOCIAL_LINKS.filter(link => HEADER_SOCIALS.includes(link.platform)).map(link => (
                               <a key={link.platform} href={link.url} target="_blank" rel="noreferrer" className="group p-2 rounded-full text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-slate-100 dark:hover:bg-white/10 transition-all" aria-label={link.platform}><IconRenderer name={link.iconName} className="w-5 h-5 group-hover:scale-110 transition-transform" /></a>
                           ))}
                       </div>
                       <div className="flex items-center gap-3">
                           <ThemeToggle />
                           <LanguageSwitcher language={language} setLanguage={setLanguage} />
                       </div>
                   </div>
                   <div className="flex items-center gap-3 md:hidden">
                       <ThemeToggle />
                       <LanguageSwitcher language={language} setLanguage={setLanguage} />
                       <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-slate-900 dark:text-slate-200 p-2 hover:bg-slate-100 dark:hover:bg-white/5 rounded-md transition-colors" aria-label="Menu">{isMenuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}</button>
                   </div>
                </div>
                <AnimatePresence>
                    {isMenuOpen && (
                        <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: 'auto', opacity: 1 }} exit={{ height: 0, opacity: 0 }} className="md:hidden bg-white dark:bg-[#0a0a0a] border-b border-slate-200 dark:border-white/10 overflow-hidden absolute top-16 left-0 right-0 shadow-2xl">
                            <nav className="flex flex-col p-6 gap-2">
                                {navItems.map(item => {
                                    const isActive = activeSection === item.href.substring(1);
                                    return (
                                        <a key={item.href} href={item.href} onClick={(e) => handleScrollTo(e, item.href)} className={`text-lg font-medium py-2 px-4 rounded-lg transition-colors ${isActive ? 'bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400' : 'text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-white/5'}`}>{item.name}</a>
                                    )
                                })}
                                <div className="flex gap-4 mt-6 pt-6 border-t border-slate-200 dark:border-white/10 px-4 justify-center">
                                    {SOCIAL_LINKS.filter(link => HEADER_SOCIALS.includes(link.platform)).map(link => (
                                        <a key={link.platform} href={link.url} target="_blank" rel="noreferrer" className="p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 hover:text-blue-600 dark:hover:text-blue-400 transition-all"><IconRenderer name={link.iconName} className="w-6 h-6" /></a>
                                    ))}
                                </div>
                            </nav>
                        </motion.div>
                    )}
                </AnimatePresence>
            </header>
        );
      };

      // About Section
      const AboutSection = ({ bio, highlights }) => {
        const ICON_MAP = { "Briefcase": Briefcase, "Users": Users, "Server": Server, "Globe": Globe };
        const THEME_MAP = {
            "Briefcase": { bg: "bg-blue-50 dark:bg-blue-500/5", hoverBg: "hover:bg-blue-100 dark:hover:bg-blue-500/20", border: "border-blue-100 dark:border-blue-500/20", hoverBorder: "hover:border-blue-300 dark:hover:border-blue-500/40", iconBg: "bg-blue-100 dark:bg-blue-500/20", iconColor: "text-blue-600 dark:text-blue-400", valueColor: "text-blue-900 dark:text-blue-100" },
            "Users": { bg: "bg-purple-50 dark:bg-purple-500/5", hoverBg: "hover:bg-purple-100 dark:hover:bg-purple-500/20", border: "border-purple-100 dark:border-purple-500/20", hoverBorder: "hover:border-purple-300 dark:hover:border-purple-500/40", iconBg: "bg-purple-100 dark:bg-purple-500/20", iconColor: "text-purple-600 dark:text-purple-400", valueColor: "text-purple-900 dark:text-purple-100" },
            "Server": { bg: "bg-emerald-50 dark:bg-emerald-500/5", hoverBg: "hover:bg-emerald-100 dark:hover:bg-emerald-500/20", border: "border-emerald-100 dark:border-emerald-500/20", hoverBorder: "hover:border-emerald-300 dark:hover:border-emerald-500/40", iconBg: "bg-emerald-100 dark:bg-emerald-500/20", iconColor: "text-emerald-600 dark:text-emerald-400", valueColor: "text-emerald-900 dark:text-emerald-100" },
            "Globe": { bg: "bg-amber-50 dark:bg-amber-500/5", hoverBg: "hover:bg-amber-100 dark:hover:bg-amber-500/20", border: "border-amber-100 dark:border-amber-500/20", hoverBorder: "hover:border-amber-300 dark:hover:border-amber-500/40", iconBg: "bg-amber-100 dark:bg-amber-500/20", iconColor: "text-amber-600 dark:text-amber-400", valueColor: "text-amber-900 dark:text-amber-100" }
        };

        const HighlightCard = ({ item, index }) => {
            const [isHovered, setIsHovered] = useState(false);
            const Icon = ICON_MAP[item.icon] || Briefcase;
            const theme = THEME_MAP[item.icon] || THEME_MAP["Briefcase"];
            
            return (
                <motion.div layout initial={{ opacity: 0, y: 10 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ delay: index * 0.1, layout: { duration: 0.3, type: "spring", bounce: 0, damping: 25, stiffness: 150 } }} onHoverStart={() => setIsHovered(true)} onHoverEnd={() => setIsHovered(false)} className={`relative flex flex-col p-5 rounded-2xl border transition-colors duration-300 cursor-default overflow-hidden ${theme.bg} ${theme.hoverBg} ${theme.border} ${theme.hoverBorder}`}>
                    <motion.div layout="position" className="flex flex-col gap-1">
                        <div className="flex items-center gap-3 mb-2">
                            <div className={`p-2 rounded-lg ${theme.iconBg} ${theme.iconColor}`}><Icon className="w-4 h-4" /></div>
                            <span className={`text-[10px] font-bold uppercase tracking-widest opacity-80 ${theme.valueColor}`}>{item.title}</span>
                        </div>
                        <div className={`text-2xl font-extrabold tracking-tight ${theme.valueColor}`}>{item.value}</div>
                    </motion.div>
                    <AnimatePresence>
                        {isHovered && (
                            <motion.div initial={{ opacity: 0, height: 0, marginTop: 0 }} animate={{ opacity: 1, height: 'auto', marginTop: 12 }} exit={{ opacity: 0, height: 0, marginTop: 0 }} transition={{ duration: 0.3, ease: "easeOut" }}>
                                <p className="text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed">{item.desc}</p>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </motion.div>
            );
        };

        return (
          <div className="flex flex-col gap-8">
            <div className="relative group rounded-2xl bg-white dark:bg-slate-800/40 border border-slate-200 dark:border-slate-700/50 p-8 sm:p-12 shadow-sm hover:shadow-md transition-shadow duration-300">
              <div className="absolute top-12 left-0 w-1 h-24 bg-gradient-to-b from-blue-500 to-transparent rounded-r-full opacity-70" />
              <div className="absolute -top-10 -right-10 w-40 h-40 bg-blue-500/5 rounded-full blur-3xl opacity-50" />
              <div className="relative z-10 space-y-6">
                  <div className="flex items-center gap-2 mb-2 text-blue-600 dark:text-blue-400"><Sparkles className="w-5 h-5" /><span className="text-xs font-bold uppercase tracking-widest">About Me</span></div>
                   {bio.map((paragraph, i) => (
                       <p key={i} className="text-lg text-slate-600 dark:text-slate-300 leading-8 font-light">
                          {paragraph.split(/(Citibank|VK|Java|Kotlin|JVM|Spring Boot)/g).map((part, idx) => {
                              if (['Citibank', 'VK'].includes(part)) return (<span key={idx} className="font-bold text-slate-900 dark:text-slate-100 decoration-blue-500/30 decoration-2 underline-offset-4 hover:decoration-blue-500 transition-all cursor-default">{part}</span>);
                              if (['Java', 'Kotlin', 'JVM', 'Spring Boot'].includes(part)) return <span key={idx} className="font-semibold text-blue-600 dark:text-blue-400 px-1 py-0.5 rounded bg-blue-50 dark:bg-blue-500/10 hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-colors cursor-default">{part}</span>;
                              return <span key={idx}>{part}</span>;
                          })}
                       </p>
                   ))}
               </div>
            </div>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-start">
                {highlights.map((item, index) => (<HighlightCard key={index} item={item} index={index} />))}
            </div>
          </div>
        );
      };

      // Experience Tabs
      const ExperienceTabs = ({ data, labels }) => {
        const [selected, setSelected] = useState(0);
        
        const THEMES = [
            { id: "vk", gradient: "from-blue-500/[0.1] via-cyan-500/[0.05] to-transparent", activeBorder: "border-blue-200 dark:border-blue-500/30", hoverBorder: "hover:border-blue-500/50 dark:hover:border-blue-400/50", activeText: "text-blue-600 dark:text-blue-400", activeBg: "bg-blue-50 dark:bg-blue-500/10", dotColor: "bg-blue-500", glow: "shadow-[0_0_20px_-5px_rgba(59,130,246,0.2)]", titleColor: "text-slate-900 dark:text-slate-100" },
            { id: "nda", gradient: "from-emerald-500/[0.1] via-teal-500/[0.05] to-transparent", activeBorder: "border-emerald-200 dark:border-emerald-500/30", hoverBorder: "hover:border-emerald-500/50 dark:hover:border-emerald-400/50", activeText: "text-emerald-600 dark:text-emerald-400", activeBg: "bg-emerald-50 dark:bg-emerald-500/10", dotColor: "bg-emerald-500", glow: "shadow-[0_0_20px_-5px_rgba(16,185,129,0.2)]", titleColor: "text-slate-900 dark:text-slate-100" },
            { id: "citi", gradient: "from-indigo-500/[0.1] via-purple-500/[0.05] to-transparent", activeBorder: "border-indigo-200 dark:border-indigo-500/30", hoverBorder: "hover:border-indigo-500/50 dark:hover:border-indigo-400/50", activeText: "text-indigo-600 dark:text-indigo-400", activeBg: "bg-indigo-50 dark:bg-indigo-500/10", dotColor: "bg-indigo-500", glow: "shadow-[0_0_20px_-5px_rgba(99,102,241,0.2)]", titleColor: "text-slate-900 dark:text-slate-100" }
        ];

        const getTechCategoryColor = (tech) => {
            const t = tech.toLowerCase();
            if (['java', 'kotlin', 'sql', 'javascript', 'typescript', 'lua', 'python', 'jee', 'java ee'].some(x => t.includes(x))) return 'hover:bg-blue-100 dark:hover:bg-blue-900/40 hover:text-blue-700 dark:hover:text-blue-300 hover:border-blue-300 dark:hover:border-blue-700';
            if (['spring', 'react', 'quarkus', 'hibernate', 'netty', 'tailwind', 'jpa', 'aop', 'rest'].some(x => t.includes(x))) return 'hover:bg-emerald-100 dark:hover:bg-emerald-900/40 hover:text-emerald-700 dark:hover:text-emerald-300 hover:border-emerald-300 dark:hover:border-emerald-700';
            if (['docker', 'kubernetes', 'jenkins', 'ci/cd', 'aws', 'gcp', 'cloud', 'oauth', 'security'].some(x => t.includes(x))) return 'hover:bg-amber-100 dark:hover:bg-amber-900/40 hover:text-amber-700 dark:hover:text-amber-300 hover:border-amber-300 dark:hover:border-amber-700';
            if (['kafka', 'redis', 'postgres', 'database', 'mongo', 'elasticsearch', 'protobuf', 'avro', 'oracle', 'db'].some(x => t.includes(x))) return 'hover:bg-purple-100 dark:hover:bg-purple-900/40 hover:text-purple-700 dark:hover:text-purple-300 hover:border-purple-300 dark:hover:border-purple-700';
            return 'hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-200 hover:border-slate-400';
        };

        const ExperienceCard3D = ({ item, labels, theme }) => {
            const x = useMotionValue(0);
            const y = useMotionValue(0);
            const mouseX = useSpring(x, { stiffness: 500, damping: 100 });
            const mouseY = useSpring(y, { stiffness: 500, damping: 100 });
            const rotateX = useTransform(mouseY, [-0.5, 0.5], ["2deg", "-2deg"]);
            const rotateY = useTransform(mouseX, [-0.5, 0.5], ["-2deg", "2deg"]);
            
            const handleMouseMove = (e) => {
              const rect = e.currentTarget.getBoundingClientRect();
              const width = rect.width;
              const height = rect.height;
              const xPct = (e.clientX - rect.left) / width - 0.5;
              const yPct = (e.clientY - rect.top) / height - 0.5;
              x.set(xPct);
              y.set(yPct);
            };
            
            return (
                <motion.div style={{ perspective: 1000 }} className="w-full h-full" initial={{ opacity: 0, scale: 0.95, rotateY: 5 }} animate={{ opacity: 1, scale: 1, rotateY: 0 }} exit={{ opacity: 0, scale: 0.95, rotateY: -5, transition: { duration: 0.2 } }} transition={{ duration: 0.4, ease: "easeOut" }}>
                    <motion.div style={{ rotateX, rotateY, transformStyle: "preserve-3d" }} onMouseMove={handleMouseMove} onMouseLeave={() => { x.set(0); y.set(0); }} className={`relative w-full h-full rounded-3xl border bg-white dark:bg-slate-800/60 backdrop-blur-xl ${theme.activeBorder} ${theme.hoverBorder} p-6 sm:p-8 shadow-xl dark:shadow-[0_0_40px_-10px_rgba(0,0,0,0.3)] flex flex-col overflow-hidden transition-colors duration-500`}>
                        <div className={`absolute inset-0 bg-gradient-to-br ${theme.gradient} opacity-100 transition-colors duration-500 -z-10`} />
                        <div className={`absolute -top-20 -right-20 w-64 h-64 rounded-full blur-[100px] opacity-10 pointer-events-none ${theme.dotColor}`} />
                        <div className="mb-8 border-b border-slate-100 dark:border-slate-700/50 pb-6 relative" style={{ transform: "translateZ(20px)" }}>
                            <div className="flex flex-col sm:flex-row sm:items-start justify-between gap-4">
                                <div className="flex items-start gap-4">
                                    <div className="relative group">
                                        <div className={`absolute -inset-2 rounded-xl blur opacity-20 group-hover:opacity-40 transition-opacity ${theme.dotColor}`} />
                                        <img src={item.logo} alt={item.company} className="relative w-14 h-14 rounded-xl object-cover shadow-lg border border-slate-100 dark:border-slate-700 bg-white" />
                                    </div>
                                    <div>
                                        <h3 className={`text-2xl font-bold leading-tight mb-1 ${theme.titleColor}`}>{item.role}</h3>
                                        <div className={`flex items-center gap-2 font-bold ${theme.activeText}`}><Building2 className="w-4 h-4" /><span>{item.company}</span></div>
                                    </div>
                                </div>
                                <div className="flex self-start items-center gap-2 px-3 py-1.5 rounded-full bg-white/60 dark:bg-slate-700/40 text-xs font-bold text-slate-500 dark:text-slate-300 uppercase tracking-wider border border-slate-200 dark:border-slate-600 shadow-sm backdrop-blur-sm"><Calendar className="w-3.5 h-3.5" />{item.duration}</div>
                            </div>
                        </div>
                        <div className="flex-1 mb-8 relative" style={{ transform: "translateZ(30px)" }}>
                            <ul className="space-y-4">
                                {item.description.split('. ').filter(Boolean).map((sentence, i) => (
                                    <motion.li key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + (i * 0.1), duration: 0.3 }} className="flex items-start gap-3 text-slate-600 dark:text-slate-300 leading-relaxed font-medium">
                                        <div className={`mt-2.5 min-w-[6px] h-[6px] rounded-full ${theme.dotColor} shadow-sm`} />
                                        <span>{sentence.trim()}{sentence.trim().endsWith('.') ? '' : '.'}</span>
                                    </motion.li>
                                ))}
                            </ul>
                        </div>
                        <div className="mt-auto" style={{ transform: "translateZ(25px)" }}>
                            <div className="flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest mb-4"><Code2 className="w-4 h-4" /><span>{labels.technologies}</span></div>
                            <div className="flex flex-wrap gap-2">
                                {item.skills.map((skill, i) => (
                                    <motion.span key={i} initial={{ opacity: 0, scale: 0.8 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.3 + (i * 0.05) }} className={`px-3 py-1.5 text-xs font-bold rounded-lg border transition-all duration-300 hover:scale-105 cursor-default bg-white/50 dark:bg-white/5 backdrop-blur-sm border-slate-200 dark:border-slate-700/50 text-slate-600 dark:text-slate-400 ${getTechCategoryColor(skill)}`}>{skill}</motion.span>
                                ))}
                            </div>
                        </div>
                    </motion.div>
                </motion.div>
            )
        }

        return (
            <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
                <div className="lg:col-span-4 flex flex-col order-2 lg:order-1">
                    <div className="relative pl-8 lg:pl-0 lg:pr-8 space-y-2 lg:space-y-4 border-l-2 border-slate-200 dark:border-slate-800 lg:border-l-0 lg:border-r-2">
                        {data.map((item, idx) => {
                            const isActive = selected === idx;
                            const theme = THEMES[idx % THEMES.length];
                            return (
                                <button key={idx} onClick={() => setSelected(idx)} className={`group relative w-full text-left p-4 rounded-2xl transition-all duration-300 border outline-none overflow-hidden ${isActive ? `bg-white dark:bg-slate-800 shadow-lg ${theme.activeBorder} lg:translate-x-2` : 'bg-transparent border-transparent hover:bg-slate-100 dark:hover:bg-slate-800/30'}`}>
                                    {isActive && (<div className={`absolute inset-0 opacity-5 ${theme.dotColor}`} />)}
                                    <div className={`absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full border-[3px] transition-all duration-500 z-10 -left-[41px] lg:left-auto lg:-right-[41px] ${isActive ? `${theme.dotColor} border-white dark:border-slate-900 scale-110 ${theme.glow}` : 'bg-slate-200 dark:bg-slate-800 border-slate-300 dark:border-slate-600 group-hover:border-slate-400'}`} />
                                    <AnimatePresence>
                                        {isActive && (<motion.div layoutId="activeConnector" className={`absolute top-1/2 -translate-y-1/2 h-[2px] z-0 -left-[35px] w-[35px] lg:left-auto lg:-right-[35px] lg:w-[35px] ${theme.dotColor}`} initial={{ scaleX: 0, opacity: 0 }} animate={{ scaleX: 1, opacity: 1 }} exit={{ scaleX: 0, opacity: 0 }} transition={{ duration: 0.3 }} />)}
                                    </AnimatePresence>
                                    <div className="relative z-10">
                                        <div className="flex items-center justify-between mb-1">
                                            <span className={`font-bold text-xs uppercase tracking-wider transition-colors ${isActive ? theme.activeText : 'text-slate-500'}`}>{item.duration.split('—')[0].trim()}</span>
                                            {isActive && (<motion.div layoutId="activeArrow" className={theme.activeText} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ duration: 0.3 }}><ArrowRight className="w-4 h-4" /></motion.div>)}
                                        </div>
                                        <div className={`font-bold text-lg mb-1 transition-colors ${isActive ? theme.titleColor : 'text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200'}`}>{item.company}</div>
                                        <div className="text-xs font-medium text-slate-500 dark:text-slate-500 truncate flex items-center gap-1.5"><Briefcase className="w-3 h-3" />{item.role}</div>
                                    </div>
                                </button>
                            )
                        })}
                    </div>
                </div>
                <div className="lg:col-span-8 min-h-[500px] order-1 lg:order-2 mb-8 lg:mb-0">
                    <AnimatePresence mode="wait"><ExperienceCard3D key={selected} item={data[selected]} labels={labels} theme={THEMES[selected % THEMES.length]} /></AnimatePresence>
                </div>
            </div>
        );
      };

      // Projects Showcase
      const ProjectsShowcase = ({ projects }) => {
        const [activeIndex, setActiveIndex] = useState(0);
        const PROJECT_ICONS = [
          { icon: Zap, baseColor: "amber", color: "text-amber-600 dark:text-amber-400", bg: "bg-amber-100 dark:bg-amber-500/20", border: "group-hover:border-amber-500/50", label: "High Load" },
          { icon: ShieldCheck, baseColor: "emerald", color: "text-emerald-600 dark:text-emerald-400", bg: "bg-emerald-100 dark:bg-emerald-500/20", border: "group-hover:border-emerald-500/50", label: "Security" },
          { icon: Globe, baseColor: "purple", color: "text-purple-600 dark:text-purple-400", bg: "bg-purple-100 dark:bg-purple-500/20", border: "group-hover:border-purple-500/50", label: "Infrastructure" },
          { icon: Database, baseColor: "blue", color: "text-blue-600 dark:text-blue-400", bg: "bg-blue-100 dark:bg-blue-500/20", border: "group-hover:border-blue-500/50", label: "Data Systems" },
          { icon: Terminal, baseColor: "pink", color: "text-pink-600 dark:text-pink-400", bg: "bg-pink-100 dark:bg-pink-500/20", border: "group-hover:border-pink-500/50", label: "Backend" }
        ];

        const getTechCategoryColor = (tech) => {
            const t = tech.toLowerCase();
            if (['java', 'kotlin', 'sql', 'javascript', 'typescript', 'lua', 'python'].some(x => t.includes(x))) return 'hover:bg-blue-100 dark:hover:bg-blue-900/40 hover:text-blue-700 dark:hover:text-blue-300 hover:border-blue-300 dark:hover:border-blue-700';
            if (['spring', 'react', 'quarkus', 'hibernate', 'netty', 'tailwind', 'jpa', 'aop'].some(x => t.includes(x))) return 'hover:bg-emerald-100 dark:hover:bg-emerald-900/40 hover:text-emerald-700 dark:hover:text-emerald-300 hover:border-emerald-300 dark:hover:border-emerald-700';
            if (['docker', 'kubernetes', 'jenkins', 'ci/cd', 'aws', 'gcp', 'cloud', 'oauth2'].some(x => t.includes(x))) return 'hover:bg-amber-100 dark:hover:bg-amber-900/40 hover:text-amber-700 dark:hover:text-amber-300 hover:border-amber-300 dark:hover:border-amber-700';
            if (['kafka', 'redis', 'postgres', 'database', 'mongo', 'elasticsearch', 'protobuf', 'avro'].some(x => t.includes(x))) return 'hover:bg-purple-100 dark:hover:bg-purple-900/40 hover:text-purple-700 dark:hover:text-purple-300 hover:border-purple-300 dark:hover:border-purple-700';
            return 'hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-200';
        };

        const ProjectMainCard = ({ project, styleDef }) => {
            const x = useMotionValue(0);
            const y = useMotionValue(0);
            const mouseX = useSpring(x, { stiffness: 500, damping: 90 });
            const mouseY = useSpring(y, { stiffness: 500, damping: 90 });
            const rotateX = useTransform(mouseY, [-0.5, 0.5], ["8deg", "-8deg"]);
            const rotateY = useTransform(mouseX, [-0.5, 0.5], ["-8deg", "8deg"]);
            const Icon = styleDef.icon;

            return (
                <motion.div style={{ perspective: 2000 }} className="relative w-full">
                    <div className={`absolute -inset-4 bg-${styleDef.baseColor}-500/20 dark:bg-${styleDef.baseColor}-500/10 blur-3xl rounded-[3rem] transition-colors duration-500 -z-10 opacity-50 lg:opacity-70`} />
                    <motion.div style={{ rotateX, rotateY, transformStyle: "preserve-3d" }} onMouseMove={(e) => { const rect = e.currentTarget.getBoundingClientRect(); x.set((e.clientX - rect.left) / rect.width - 0.5); y.set((e.clientY - rect.top) / rect.height - 0.5); }} onMouseLeave={() => { x.set(0); y.set(0); }} className={`relative overflow-hidden rounded-3xl bg-white dark:bg-slate-800/80 backdrop-blur-xl border border-slate-200 dark:border-slate-700/60 shadow-2xl dark:shadow-[0_0_40px_-10px_rgba(0,0,0,0.5)] transition-all duration-200 group`}>
                         <div className="grid grid-cols-1 lg:grid-cols-2 gap-0 min-h-[450px]">
                            <div className="p-8 lg:p-10 flex flex-col relative z-10" style={{ transform: "translateZ(20px)" }}>
                                <AnimatePresence mode="wait">
                                    <motion.div key={project.title} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }} transition={{ duration: 0.3 }} className="flex flex-col h-full">
                                        <div className="flex items-center gap-3 mb-6" style={{ transform: "translateZ(20px)" }}>
                                            <div className={`flex items-center justify-center w-10 h-10 rounded-xl ${styleDef.bg} ${styleDef.color} transition-colors duration-300 shadow-sm ring-1 ring-inset ring-white/10`}><Icon className="w-5 h-5" /></div>
                                            <span className="text-xs font-bold tracking-widest uppercase text-slate-500 dark:text-slate-400">{styleDef.label}</span>
                                        </div>
                                        <h3 className="text-3xl font-bold text-slate-900 dark:text-slate-100 mb-4 leading-tight" style={{ transform: "translateZ(30px)" }}>{project.title}</h3>
                                        <p className="text-slate-600 dark:text-slate-400 text-lg leading-relaxed mb-8" style={{ transform: "translateZ(25px)" }}>{project.description}</p>
                                        <div className="mb-10" style={{ transform: "translateZ(40px)" }}>
                                            <div className="flex flex-wrap gap-2">
                                                {project.tech.map((tech, i) => (<span key={i} className={`px-3 py-1.5 text-sm font-medium rounded-lg border border-slate-200 dark:border-slate-700/50 bg-slate-100/80 dark:bg-slate-700/30 text-slate-600 dark:text-slate-300 cursor-default transition-all duration-200 ${getTechCategoryColor(tech)}`}>{tech}</span>))}
                                            </div>
                                        </div>
                                        <div className="mt-auto pt-6 border-t border-slate-100 dark:border-slate-700/50 flex gap-4" style={{ transform: "translateZ(35px)" }}>
                                            {project.link && (<a href={project.link} target="_blank" rel="noreferrer" className="flex items-center gap-2 px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold transition-all hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-600/20 active:scale-95"><span>View Project</span><ExternalLink className="w-4 h-4" /></a>)}
                                            <button className="flex items-center gap-2 px-6 py-3 rounded-xl bg-white dark:bg-transparent border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-95 hover:text-slate-900 dark:hover:text-white"><Github className="w-4 h-4" /><span>Source</span></button>
                                        </div>
                                    </motion.div>
                                </AnimatePresence>
                            </div>
                            <div className="relative h-64 lg:h-auto overflow-hidden bg-slate-100 dark:bg-slate-900/50 border-b lg:border-b-0 lg:border-l border-slate-200 dark:border-slate-700/50 group-hover:border-blue-500/10 transition-colors">
                                <AnimatePresence mode="wait">
                                    <motion.div key={project.title} initial={{ opacity: 0, scale: 1.05 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.4 }} className="absolute inset-0" style={{ transform: "translateZ(10px)" }}>
                                        {project.imageUrl ? (<div className="w-full h-full relative"><img src={project.imageUrl} alt={project.title} className="w-full h-full object-cover" /><div className="absolute inset-0 bg-gradient-to-tr from-slate-900/20 to-transparent mix-blend-overlay" /></div>) : (<div className="w-full h-full flex items-center justify-center"><Layers className="w-20 h-20 text-slate-300 dark:text-slate-700 opacity-50" /></div>)}
                                    </motion.div>
                                </AnimatePresence>
                            </div>
                         </div>
                    </motion.div>
                </motion.div>
            );
        };

        const activeProject = projects[activeIndex];
        const activeStyle = PROJECT_ICONS[activeIndex % PROJECT_ICONS.length];

        return (
            <div className="space-y-8">
                <ProjectMainCard project={activeProject} styleDef={activeStyle} />
                <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    {projects.map((project, idx) => {
                       const isActive = activeIndex === idx;
                       const style = PROJECT_ICONS[idx % PROJECT_ICONS.length];
                       const Icon = style.icon;
                       return (
                         <button key={idx} onClick={() => setActiveIndex(idx)} className={`group flex items-center gap-3 p-3 pr-4 rounded-xl border transition-all duration-300 outline-none ${isActive ? `bg-white dark:bg-slate-800 shadow-lg ${style.border} ring-1 ring-${style.baseColor}-500/20 scale-[1.02]` : 'bg-white dark:bg-slate-800/40 border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-600'}`}>
                            <div className={`flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-300 shrink-0 ${isActive ? `${style.bg} ${style.color} scale-105` : 'bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-500 group-hover:scale-105 group-hover:bg-slate-200 dark:group-hover:bg-slate-700'}`}><Icon className={`w-5 h-5 transition-transform duration-300 ${isActive ? 'rotate-0' : 'group-hover:-rotate-12'}`} /></div>
                            <div className="text-left overflow-hidden">
                                <div className={`text-[10px] font-bold uppercase tracking-wider mb-0.5 transition-colors ${isActive ? style.color : 'text-slate-400 dark:text-slate-500'}`}>{style.label}</div>
                                <div className={`text-sm font-bold truncate transition-colors ${isActive ? 'text-slate-900 dark:text-slate-100' : 'text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200'}`}>{project.title}</div>
                            </div>
                         </button>
                       );
                    })}
                </div>
            </div>
        );
      };

      // Tech Stack
      const TechStack = () => {
        const techCategories = [
          { id: 'languages', title: 'Languages', icon: Code2, skills: ['Java', 'Kotlin', 'SQL'], color: 'blue', bgPattern: 'radial-gradient(circle at top right, rgba(59, 130, 246, 0.15), transparent 50%)' },
          { id: 'frameworks', title: 'Frameworks', icon: Layers, skills: ['Spring', 'Quarkus', 'Hibernate'], color: 'emerald', bgPattern: 'radial-gradient(circle at top left, rgba(16, 185, 129, 0.15), transparent 50%)' },
          { id: 'data', title: 'Data & Queues', icon: Database, skills: ['PostgreSQL', 'Redis', 'Kafka'], color: 'purple', bgPattern: 'radial-gradient(circle at bottom right, rgba(168, 85, 247, 0.15), transparent 50%)' },
          { id: 'devops', title: 'DevOps', icon: Server, skills: ['Docker', 'Kubernetes', 'CI/CD'], color: 'amber', bgPattern: 'radial-gradient(circle at bottom left, rgba(245, 158, 11, 0.15), transparent 50%)' }
        ];

        const getTheme = (color) => {
            const themes = {
                blue: { cardBorder: 'border-slate-200 dark:border-slate-800', hoverBorder: 'hover:border-blue-500/50 dark:hover:border-blue-400/50', iconBg: 'bg-blue-100 dark:bg-blue-500/20', iconColor: 'text-blue-600 dark:text-blue-400', tagBase: 'text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700/50', tagHover: 'hover:text-blue-600 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-500/20 hover:border-blue-200 dark:hover:border-blue-500/30', shadow: 'hover:shadow-[0_0_30px_-5px_rgba(59,130,246,0.2)]' },
                emerald: { cardBorder: 'border-slate-200 dark:border-slate-800', hoverBorder: 'hover:border-emerald-500/50 dark:hover:border-emerald-400/50', iconBg: 'bg-emerald-100 dark:bg-emerald-500/20', iconColor: 'text-emerald-600 dark:text-emerald-400', tagBase: 'text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700/50', tagHover: 'hover:text-emerald-600 dark:hover:text-emerald-300 hover:bg-emerald-50 dark:hover:bg-emerald-500/20 hover:border-emerald-200 dark:hover:border-emerald-500/30', shadow: 'hover:shadow-[0_0_30px_-5px_rgba(16,185,129,0.2)]' },
                purple: { cardBorder: 'border-slate-200 dark:border-slate-800', hoverBorder: 'hover:border-purple-500/50 dark:hover:border-purple-400/50', iconBg: 'bg-purple-100 dark:bg-purple-500/20', iconColor: 'text-purple-600 dark:text-purple-400', tagBase: 'text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700/50', tagHover: 'hover:text-purple-600 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-500/20 hover:border-purple-200 dark:hover:border-purple-500/30', shadow: 'hover:shadow-[0_0_30px_-5px_rgba(168,85,247,0.2)]' },
                amber: { cardBorder: 'border-slate-200 dark:border-slate-800', hoverBorder: 'hover:border-amber-500/50 dark:hover:border-amber-400/50', iconBg: 'bg-amber-100 dark:bg-amber-500/20', iconColor: 'text-amber-600 dark:text-amber-400', tagBase: 'text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700/50', tagHover: 'hover:text-amber-600 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-500/20 hover:border-amber-200 dark:hover:border-amber-500/30', shadow: 'hover:shadow-[0_0_30px_-5px_rgba(245,158,11,0.2)]' }
            };
            return themes[color] || themes.blue;
        };

        const TechCard = ({ category, index }) => {
            const theme = getTheme(category.color);
            const Icon = category.icon;
            const x = useMotionValue(0);
            const y = useMotionValue(0);
            const mouseX = useSpring(x, { stiffness: 500, damping: 100 });
            const mouseY = useSpring(y, { stiffness: 500, damping: 100 });
            const rotateX = useTransform(mouseY, [-0.5, 0.5], ["10deg", "-10deg"]);
            const rotateY = useTransform(mouseX, [-0.5, 0.5], ["-10deg", "10deg"]);

            return (
                <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ delay: index * 0.1 }} className="h-full" style={{ perspective: 1000 }}>
                    <motion.div style={{ rotateX, rotateY, transformStyle: "preserve-3d", }} onMouseMove={(e) => { const rect = e.currentTarget.getBoundingClientRect(); x.set((e.clientX - rect.left) / rect.width - 0.5); y.set((e.clientY - rect.top) / rect.height - 0.5); }} onMouseLeave={() => { x.set(0); y.set(0); }} className={`group h-full flex flex-col p-6 bg-white dark:bg-slate-800/40 backdrop-blur-md rounded-2xl border ${theme.cardBorder} ${theme.hoverBorder} transition-all duration-300 relative overflow-hidden hover:shadow-2xl ${theme.shadow}`}>
                         <div className="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none" style={{ background: category.bgPattern, transform: "translateZ(0)" }} />
                        <div className="flex items-center gap-4 mb-6 relative z-10" style={{ transform: "translateZ(30px)" }}>
                            <div className={`p-3 rounded-xl ${theme.iconBg} ${theme.iconColor} shadow-sm ring-1 ring-inset ring-white/10`}><Icon className="w-6 h-6" /></div>
                            <h3 className="text-lg font-bold text-slate-900 dark:text-slate-100">{category.title}</h3>
                        </div>
                        <div className="flex flex-wrap gap-2.5 relative z-10 mt-auto" style={{ transform: "translateZ(20px)" }}>
                          {category.skills.map((skill, i) => (
                            <span key={i} className={`px-3 py-1.5 text-[13px] font-bold rounded-lg border transition-all duration-200 bg-slate-50/80 dark:bg-white/5 backdrop-blur-sm ${theme.tagBase} ${theme.tagHover} cursor-default shadow-sm`}>{skill}</span>
                          ))}
                        </div>
                    </motion.div>
                </motion.div>
            );
        };

        return (
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {techCategories.map((category, idx) => (<TechCard key={category.id} category={category} index={idx} />))}
            </div>
        );
      };

      // Article Card
      const ArticleCard = ({ article, index, label }) => {
        return (
          <motion.a href={article.link} target="_blank" rel="noopener noreferrer" initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ delay: index * 0.1 }} className="group flex flex-col justify-between p-6 rounded-xl bg-white dark:bg-slate-800/20 border border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-800/40 hover:border-blue-500/30 transition-all cursor-pointer h-full">
            <div>
              <div className="flex items-center justify-between mb-4 text-xs text-slate-500 uppercase tracking-widest font-bold">
                  <span className="px-2 py-1 rounded bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">{article.platform}</span>
                  <span>{article.date}</span>
              </div>
              <h3 className="text-lg font-semibold text-slate-900 dark:text-slate-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors mb-3 leading-tight">{article.title}</h3>
              <p className="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-6">{article.description}</p>
            </div>
            <div className="flex items-center gap-2 text-sm font-medium text-slate-500 group-hover:text-blue-600 dark:group-hover:text-blue-300 transition-colors">
              <BookOpen className="w-4 h-4" />
              <span>{label}</span>
              <ArrowUpRight className="w-3 h-3 transition-transform group-hover:translate-x-1 group-hover:-translate-y-1" />
            </div>
          </motion.a>
        );
      };

      // Main App Component
      const App = () => {
        const [language, setLanguage] = useState('en');
        const [copiedEmail, setCopiedEmail] = useState(false);
        const [copiedTelegram, setCopiedTelegram] = useState(false);
        
        const data = CONTENT[language];
        const profileImage = 'profile.jpeg';

        const handleScroll = (e, href) => {
          e.preventDefault();
          const element = document.querySelector(href);
          if (element) element.scrollIntoView({ behavior: 'smooth' });
        };

        const handleCopyEmail = async (e) => {
          e.preventDefault();
          try { await navigator.clipboard.writeText("rustamscode@gmail.com"); setCopiedEmail(true); setTimeout(() => setCopiedEmail(false), 2000); } catch (err) { console.error("Failed to copy email", err); }
        };

        const handleCopyTelegram = async (e) => {
          e.preventDefault();
          try { await navigator.clipboard.writeText("@rustamscode"); setCopiedTelegram(true); setTimeout(() => setCopiedTelegram(false), 2000); } catch (err) { console.error("Failed to copy telegram", err); }
        };

        const telegramLink = SOCIAL_LINKS.find(l => l.platform === 'Telegram');

        return (
          <div className="relative min-h-screen bg-slate-50 dark:bg-background selection:bg-blue-500/30 text-slate-600 dark:text-slate-400 transition-colors duration-300">
            <NetworkBackground />
            <SpotlightEffect />
            <Header language={language} setLanguage={setLanguage} labels={data.ui} />
            <div className="relative z-40 mx-auto min-h-screen max-w-6xl px-6 pt-28 pb-12 font-sans md:px-12 md:pt-32 lg:pt-40">
              <div>
                <header className="mb-24 lg:mb-36">
                  <div>
                     <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }} className="relative z-20 inline-flex items-center gap-2.5 px-4 py-2 rounded-full bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border border-emerald-500/20 dark:border-emerald-500/30 mb-8 shadow-sm hover:shadow-md transition-all cursor-default">
                        <span className="relative flex h-2.5 w-2.5"><span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span><span className="relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"></span></span>
                        <span className="text-sm font-semibold text-slate-700 dark:text-slate-100 tracking-wide">Available for new projects</span>
                      </motion.div>
                    <div className="flex flex-col-reverse gap-12 lg:flex-row lg:items-center lg:justify-between lg:gap-20">
                      <div className="pt-2 sm:pt-0 max-w-2xl">
                        <motion.h1 initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5, delay: 0.1 }} className="text-5xl font-extrabold tracking-tight sm:text-7xl lg:text-8xl mb-6"><span className="bg-clip-text text-transparent bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 dark:from-white dark:via-slate-200 dark:to-slate-400">Rustam.</span></motion.h1>
                        <motion.h2 initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5, delay: 0.2 }} key={`role-${language}`} className="text-2xl sm:text-3xl font-semibold tracking-tight bg-clip-text text-transparent bg-gradient-to-br from-slate-500 to-slate-800 dark:from-slate-100 dark:to-slate-400 flex items-center gap-2">{data.header.role}</motion.h2>
                        <motion.p initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5, delay: 0.3 }} key={`bio-${language}`} className="mt-8 max-w-lg leading-relaxed text-lg text-slate-600 dark:text-slate-400">{data.header.bio}</motion.p>
                        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5, delay: 0.4 }} className="mt-12">
                          <a href="#contact" onClick={(e) => handleScroll(e, '#contact')} className="relative inline-flex items-center gap-3 px-7 py-4 rounded-2xl bg-gradient-to-br from-slate-100 via-slate-200 to-blue-200 dark:from-white dark:via-slate-200 dark:to-blue-300 text-slate-900 font-bold text-base tracking-wide shadow-xl shadow-blue-300/40 dark:shadow-white/5 border border-white/60 dark:border-transparent hover:brightness-110 hover:-translate-y-1 transition-all duration-300 active:scale-95 group overflow-hidden">
                              <span className="relative z-10">{data.header.cta}</span><ArrowRight className="relative z-10 w-4 h-4 group-hover:translate-x-1 transition-transform" />
                              <div className="absolute inset-0 -translate-x-full group-hover:translate-x-full bg-gradient-to-r from-transparent via-white/40 to-transparent transition-transform duration-700 ease-in-out skew-x-12" />
                          </a>
                        </motion.div>
                      </div>
                      <motion.div initial={{ opacity: 0, scale: 0.8, rotate: -5 }} animate={{ opacity: 1, scale: 1, rotate: -3 }} whileHover={{ scale: 1.02, rotate: 0 }} transition={{ duration: 0.5, type: "spring", bounce: 0.4 }} className="relative w-72 h-72 lg:w-96 lg:h-96 group shrink-0 perspective-1000 mx-auto lg:mx-0">
                         <div className="absolute inset-4 bg-blue-500 rounded-[2.5rem] blur-[60px] opacity-20 dark:opacity-40 group-hover:opacity-50 transition-opacity duration-500" />
                         <div className="relative w-full h-full rounded-[2.5rem] overflow-hidden border border-white/60 dark:border-slate-700 shadow-2xl bg-slate-100 dark:bg-slate-800/50 backdrop-blur-sm rotate-3 group-hover:rotate-0 transition-transform duration-500">
                            <img src={profileImage} alt="Rustam Profile" className="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500" />
                            <div className="absolute bottom-5 left-5 right-5 p-3 rounded-2xl bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-white/20 dark:border-slate-700/50 shadow-2xl transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-out">
                              <div className="flex items-center gap-3.5">
                                  <div className="relative h-10 w-10 flex-shrink-0 overflow-hidden rounded-xl shadow-sm border border-slate-100 dark:border-slate-800"><img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/VK_Compact_Logo_%282021-present%29.svg" alt="VK Logo" className="h-full w-full object-cover" /></div>
                                  <div className="flex flex-col justify-center">
                                      <div className="text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-0.5 leading-none">Currently Building at</div>
                                      <div className="text-sm font-extrabold text-slate-900 dark:text-slate-100 leading-tight">VK Tech</div>
                                  </div>
                              </div>
                            </div>
                        </div>
                      </motion.div>
                    </div>
                  </div>
                </header>
                <main className="space-y-32 lg:space-y-40">
                  <Section id="about" title={data.ui.about}><AboutSection bio={data.about.bio} highlights={data.about.highlights} /></Section>
                  <Section id="experience" title={data.ui.experience}>
                    <ExperienceTabs data={data.experience} labels={{ technologies: data.ui.technologies }} />
                    <div className="mt-12 flex justify-center sm:justify-start">
                      <a href="/resume.pdf" target="_blank" rel="noopener noreferrer" className="group relative inline-flex items-center gap-4 px-8 py-4 rounded-2xl bg-gradient-to-br from-slate-100 via-slate-200 to-blue-200 dark:from-white dark:via-slate-200 dark:to-blue-300 text-slate-900 font-bold text-lg tracking-wide shadow-xl shadow-blue-300/40 dark:shadow-white/5 border border-white/60 dark:border-transparent hover:brightness-110 hover:-translate-y-1 transition-all duration-300 active:scale-95 overflow-hidden">
                        <span className="relative z-10">{data.ui.viewResume}</span><ArrowUpRight className="relative z-10 w-5 h-5 transition-transform duration-300 group-hover:-translate-y-1 group-hover:translate-x-1" />
                        <div className="absolute inset-0 -translate-x-full group-hover:translate-x-full bg-gradient-to-r from-transparent via-white/40 to-transparent transition-transform duration-700 ease-in-out skew-x-12" />
                      </a>
                    </div>
                  </Section>
                  <Section id="skills" title={data.ui.techStack}><TechStack /></Section>
                  <Section id="projects" title={data.ui.projects}><ProjectsShowcase projects={data.projects} /></Section>
                  <Section id="writing" title={data.ui.writing}>
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 group/list">
                          {data.articles.map((article, idx) => (<ArticleCard key={idx} article={article} index={idx} label={data.ui.readArticle} />))}
                      </div>
                  </Section>
                  <Section id="contact" title={data.ui.contact}>
                     <div className="flex flex-col gap-12 max-w-5xl mx-auto">
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                              <div className="group relative p-8 rounded-3xl bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700/50 hover:border-blue-500/30 transition-all hover:shadow-xl dark:hover:shadow-[0_0_30px_-10px_rgba(59,130,246,0.1)] flex flex-col items-center text-center">
                                  <div className="w-16 h-16 rounded-2xl bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center text-blue-600 dark:text-blue-400 mb-6 group-hover:scale-110 transition-transform duration-300"><Mail className="w-8 h-8" /></div>
                                  <h4 className="text-xl font-bold text-slate-900 dark:text-slate-100 mb-2">Email</h4>
                                  <p className="text-slate-500 dark:text-slate-400 font-medium mb-8 select-all">rustamscode@gmail.com</p>
                                  <div className="flex items-center gap-3 w-full mt-auto">
                                      <button onClick={handleCopyEmail} className="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold transition-all active:scale-95">{copiedEmail ? <Check className="w-4 h-4 text-emerald-500" /> : <Copy className="w-4 h-4" />}<span>{copiedEmail ? 'Copied' : 'Copy'}</span></button>
                                      <a href="mailto:rustamscode@gmail.com" className="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold transition-all shadow-lg shadow-blue-600/20 hover:shadow-blue-600/30 active:scale-95"><Send className="w-4 h-4" /><span>Write</span></a>
                                  </div>
                              </div>
                              <div className="group relative p-8 rounded-3xl bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700/50 hover:border-sky-500/30 transition-all hover:shadow-xl dark:hover:shadow-[0_0_30px_-10px_rgba(14,165,233,0.1)] flex flex-col items-center text-center">
                                   <div className="w-16 h-16 rounded-2xl bg-sky-50 dark:bg-sky-500/10 flex items-center justify-center text-sky-600 dark:text-sky-400 mb-6 group-hover:scale-110 transition-transform duration-300"><Send className="w-8 h-8 -ml-1" /></div>
                                  <h4 className="text-xl font-bold text-slate-900 dark:text-slate-100 mb-2">Telegram</h4>
                                  <p className="text-slate-500 dark:text-slate-400 font-medium mb-8 select-all">@rustamscode</p>
                                  <div className="flex items-center gap-3 w-full mt-auto">
                                      <button onClick={handleCopyTelegram} className="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold transition-all active:scale-95">{copiedTelegram ? <Check className="w-4 h-4 text-emerald-500" /> : <Copy className="w-4 h-4" />}<span>{copiedTelegram ? 'Copied' : 'Copy'}</span></button>
                                      <a href={telegramLink?.url || "https://t.me/rustamscode"} target="_blank" rel="noreferrer" className="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-sky-500 hover:bg-sky-600 text-white font-bold transition-all shadow-lg shadow-sky-500/20 hover:shadow-sky-500/30 active:scale-95"><ArrowUpRight className="w-4 h-4" /><span>Chat</span></a>
                                  </div>
                              </div>
                          </div>
                          <div className="flex flex-col items-center gap-6">
                              <div className="flex items-center gap-4 w-full px-4 sm:px-12 opacity-50">
                                  <div className="h-px bg-slate-300 dark:bg-slate-700 flex-1" />
                                  <span className="text-xs font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 whitespace-nowrap">Or follow me on</span>
                                  <div className="h-px bg-slate-300 dark:bg-slate-700 flex-1" />
                              </div>
                              <div className="flex flex-wrap justify-center gap-3">
                                  {SOCIAL_LINKS.filter(l => l.platform !== 'Email' && l.platform !== 'Telegram').map((social) => (
                                      <a key={social.platform} href={social.url} target="_blank" rel="noreferrer" className="group flex items-center gap-2.5 px-5 py-2.5 rounded-full bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700/50 hover:border-blue-500/30 hover:shadow-md transition-all active:scale-95">
                                          <div className="text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"><IconRenderer name={social.iconName} className="w-4 h-4" /></div>
                                          <span className="text-sm font-bold text-slate-600 dark:text-slate-300 group-hover:text-slate-900 dark:group-hover:text-slate-100 transition-colors">{social.platform}</span>
                                      </a>
                                  ))}
                              </div>
                          </div>
                     </div>
                  </Section>
                </main>
              </div>
            </div>
          </div>
        );
      };

      const root = createRoot(document.getElementById('root'));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>